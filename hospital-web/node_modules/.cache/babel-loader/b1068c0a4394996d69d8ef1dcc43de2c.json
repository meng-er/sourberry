{"remainingRequest":"/Users/gym/Desktop/frontend/node_modules/babel-loader/lib/index.js!/Users/gym/Desktop/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gym/Desktop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gym/Desktop/frontend/src/views/mypatient/patient_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gym/Desktop/frontend/src/views/mypatient/patient_list.vue","mtime":1598472694000},{"path":"/Users/gym/Desktop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBwYXRpZW50SXRlbSBmcm9tICIuLi8uLi9jb21wb25lbnRzL3BhdGllbnRfaXRlbS52dWUiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAvL+W9k+WJjeeCueWHu+mhteeggeaVsAogICAgICBwYWdlU2l6ZTogMTYsCiAgICAgIC8v5q+P6aG15bGV56S65pWw55uuCiAgICAgIHBhdGllbnRMaXN0OiBbXSAvL+eXheS6uuWIl+ihqOaVsOaNrgoKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBwYXRpZW50SXRlbTogcGF0aWVudEl0ZW0KICB9LAogIC8v5rOo5YaM55eF5Lq65YiX6KGo5p2h55uu5a2Q57uE5Lu2CiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0UGF0aWVudExpc3QoKTsgLy/ov5vlhaXpobXpnaLml7blgJnojrflj5bnl4XkurrliJfooagKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKCJcdTZCQ0ZcdTk4NzUgIi5jb25jYXQodmFsLCAiIFx1Njc2MSIpKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgfSwKICAgIC8v54K55Ye75YiG6aG15pe25pS55Y+Y5b2T5YmN6aG156CB77yM6YeN5paw6K+35rGC5pWw5o2uCiAgICB0b2dnbGVJdGVtOiBmdW5jdGlvbiB0b2dnbGVJdGVtKGl0ZW0pIHsKICAgICAgLy8gaWYgKGl0ZW0uc2VsZWN0ID09IGZhbHNlKSB7CiAgICAgIC8vICAgaXRlbS5zZWxlY3QgPSB0cnVlOwogICAgICAvLyB9IGVsc2UgewogICAgICAvLyAgIGl0ZW0uc2VsZWN0ID0gZmFsc2U7CiAgICAgIC8vIH0KICAgICAgaXRlbS5zZWxlY3QgPSAhaXRlbS5zZWxlY3Q7CiAgICB9LAogICAgLy/ngrnlh7vnl4XkurrliJfooajmnaHnm67ml7bvvIzliIfmjaLpgInkuK3lkozmnKrpgInkuK1zZWxlY3TlrZfmrrXnmoTnirbmgIEKICAgIGdldFBhdGllbnRMaXN0OiBmdW5jdGlvbiBnZXRQYXRpZW50TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAoIi9jb25zdWx0YXRpb25pbmZvL3BhdGllbnRMaXN0IiwgInBvc3QiLCB7CiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5wYXRpZW50TGlzdCA9IHJlcy5yZXN1bHQubGlzdDsgLy/or7fmsYLliLDnmoTnl4XkurrliJfooajmlbDmja7otYvlgLznu5lkYXRh5pWw5o2ucGF0aWVudExpc3QKCiAgICAgICAgY29uc29sZS5sb2coX3RoaXMucGF0aWVudExpc3QpOwoKICAgICAgICBfdGhpcy5wYXRpZW50TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBfdGhpcy4kc2V0KGl0ZW0sICJzZWxlY3QiLCBmYWxzZSk7CiAgICAgICAgfSk7IC8v5Li65q+P5p2h5pWw5o2u5aKe5Yqg5LiA5Liqa2V55YC8c2VsZWN05Luj6KGo5piv5ZCm6YCJ5Lit77yM5Li65ZCO5pyf55qE5om56YeP5Yig6Zmk5L2c5YeG5aSHCgogICAgICB9KTsKICAgIH0sCiAgICBkZWxMaXN0OiBmdW5jdGlvbiBkZWxMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBpZHMgPSBbXTsKICAgICAgdGhpcy5wYXRpZW50TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uc2VsZWN0ID09IHRydWUpIHsKICAgICAgICAgIGlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICAgIH0KICAgICAgfSk7IC8vIOaKiuaJgOaciXNlbGVjdOWtl+auteS4unRydWXnmoTkv6Hmga/nmoRpZOmDveS8oOi/m+aVsOe7hOS4rQoKICAgICAgaWYgKGlkcy5sZW5ndGggIT09IDApIHRoaXMuJGh0dHAoImNvbnN1bHRhdGlvbmluZm8vcGF0aWVudHMiLCAiZGVsZXRlIiwgewogICAgICAgIGNvbnN1bHRhdGlvbklkczogaWRzLmpvaW4oIiwiKSAvL+S8oOmAkue7meWQjuWPsOaVsOaNru+8jOaKiuaVsOe7hOaLvOaOpeS4uuWtl+espuS4sjHvvIwy77yM55qE5qC85byPCgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLm1zZyA9PSAib2siKSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLliKDpmaTnl4XkurrmiJDlip8iLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0pOwoKICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgIH0gLy/liKDpmaTmiJDlip/lkI7lvLnlh7rmiJDlip/lvLnnqpfvvIzlubbkuJTliLfmlrDpobXpnaIKCiAgICAgIH0pOwogICAgfSAvL+aJuemHj+WIoOmZpAoKICB9Cn07"},{"version":3,"sources":["patient_list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAA,WAAA,MAAA,mCAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,CADA;AAEA;AACA,MAAA,QAAA,EAAA,EAHA;AAIA;AACA,MAAA,WAAA,EAAA,EALA,CAMA;;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAXA;AAaA;AACA,EAAA,OAdA,qBAcA;AACA,SAAA,cAAA,GADA,CAEA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,GADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,wBAAA,GAAA;AACA,KAHA;AAIA,IAAA,mBAJA,+BAIA,GAJA,EAIA;AACA,WAAA,WAAA,GAAA,GAAA;AACA,KANA;AAMA;AAEA,IAAA,UARA,sBAQA,IARA,EAQA;AACA;AACA;AACA;AACA;AACA;AACA,MAAA,IAAA,CAAA,MAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,KAfA;AAgBA;AAEA,IAAA,cAlBA,4BAkBA;AAAA;;AACA,WAAA,KAAA,CACA,+BADA,EAEA,MAFA,EAIA;AACA,QAAA,MAAA,EAAA,CADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAJA,EAQA,IARA,CAQA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,GAAA,CAAA,MAAA,CAAA,IAAA,CADA,CAEA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,WAAA;;AACA,QAAA,KAAA,CAAA,WAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA,QAAA,EAAA,KAAA;AACA,SAFA,EAJA,CAOA;;AACA,OAhBA;AAiBA,KApCA;AAqCA,IAAA,OArCA,qBAqCA;AAAA;;AACA,UAAA,GAAA,GAAA,EAAA;AACA,WAAA,WAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,MAAA,IAAA,IAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA;AACA,OAJA,EAFA,CAOA;;AACA,UAAA,GAAA,CAAA,MAAA,KAAA,CAAA,EACA,KAAA,KAAA,CAAA,2BAAA,EAAA,QAAA,EAAA;AACA,QAAA,eAAA,EAAA,GAAA,CAAA,IAAA,CAAA,GAAA,CADA,CAEA;;AAFA,OAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,GAAA,IAAA,IAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA;AACA,YAAA,SAAA,EAAA,IADA;AAEA,YAAA,OAAA,EAAA,QAFA;AAGA,YAAA,IAAA,EAAA;AAHA,WAAA;;AAKA,UAAA,QAAA,CAAA,MAAA;AACA,SARA,CAQA;;AACA,OAZA;AAaA,KA3DA,CA4DA;;AA5DA;AAlBA,CAAA","sourcesContent":["<template>\n  <div id=\"patientList\">\n    <div class=\"patient_con\">\n      <patient-item\n        v-for=\"(item, index) in patientList\"\n        :key=\"index\"\n        :info=\"item\"\n        @click.native=\"toggleItem(item, item.id)\"\n        :class=\"{ select: item.select }\"\n      ></patient-item>\n      <!-- 每个病人都是一个组件 -->\n    </div>\n    <div class=\"beatch_remove\">\n      <el-button class=\"bg16d\" round icon=\"el-icon-delete\">批量选择</el-button>\n      <el-button round type=\"danger\" icon=\"el-icon-delete\" @click=\"delList\"\n        >批量删除</el-button\n      >\n    </div>\n\n    <el-pagination\n      class=\"page\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page.sync=\"currentPage\"\n      background\n      :page-size=\"10\"\n      layout=\"prev, pager, next, jumper\"\n      :total=\"100\"\n      :pager-count=\"5\"\n    >\n    </el-pagination>\n    <!-- 分页效果 -->\n  </div>\n</template>\n<script>\nimport patientItem from \"../../components/patient_item.vue\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      currentPage: 1,\n      //当前点击页码数\n      pageSize: 16,\n      //每页展示数目\n      patientList: [],\n      //病人列表数据\n    };\n  },\n  components: {\n    patientItem,\n  }, //注册病人列表条目子组件\n  mounted() {\n    this.getPatientList();\n    //进入页面时候获取病人列表\n  },\n  methods: {\n    handleSizeChange(val) {\n      console.log(`每页 ${val} 条`);\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n    }, //点击分页时改变当前页码，重新请求数据\n\n    toggleItem(item) {\n      // if (item.select == false) {\n      //   item.select = true;\n      // } else {\n      //   item.select = false;\n      // }\n      item.select = !item.select;\n    },\n    //点击病人列表条目时，切换选中和未选中select字段的状态\n\n    getPatientList() {\n      this.$http(\n        \"/consultationinfo/patientList\",\n        \"post\",\n\n        {\n          pageNo: 1,\n          pageSize: 10,\n        }\n      ).then((res) => {\n        this.patientList = res.result.list;\n        //请求到的病人列表数据赋值给data数据patientList\n        console.log(this.patientList);\n        this.patientList.forEach((item) => {\n          this.$set(item, \"select\", false);\n        });\n        //为每条数据增加一个key值select代表是否选中，为后期的批量删除作准备\n      });\n    },\n    delList() {\n      let ids = [];\n      this.patientList.forEach((item) => {\n        if (item.select == true) {\n          ids.push(item.id);\n        }\n      });\n      // 把所有select字段为true的信息的id都传进数组中\n      if (ids.length !== 0)\n        this.$http(\"consultationinfo/patients\", \"delete\", {\n          consultationIds: ids.join(\",\"),\n          //传递给后台数据，把数组拼接为字符串1，2，的格式\n        }).then((res) => {\n          if (res.msg == \"ok\") {\n            this.$message({\n              showClose: true,\n              message: \"删除病人成功\",\n              type: \"success\",\n            });\n            location.reload();\n          } //删除成功后弹出成功弹窗，并且刷新页面\n        });\n    },\n    //批量删除\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n#patientList {\n  position: relative;\n  .patient_con {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: left;\n  }\n  .el-input__inner {\n    border-radius: 20px;\n  }\n\n  .page {\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: 20px;\n  }\n  .beatch_remove {\n    position: absolute;\n    bottom: 20px;\n    left: 50px;\n    .el-button.is-round {\n      color: #fff;\n      padding: 8px 12px;\n    }\n  }\n  .select {\n    // border: 1px solid rgb(211, 143, 143);\n    background: rgba($color: #918b8b, $alpha: 0.3);\n    // box-sizing: border-box;\n  }\n}\n</style>\n<style lang=\"scss\"></style>\n"],"sourceRoot":"src/views/mypatient"}]}