{"remainingRequest":"/Users/gym/Desktop/hospital-web/node_modules/babel-loader/lib/index.js!/Users/gym/Desktop/hospital-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/gym/Desktop/hospital-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gym/Desktop/hospital-web/src/views/cottoms/cottoms_list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gym/Desktop/hospital-web/src/views/cottoms/cottoms_list.vue","mtime":1598472694000},{"path":"/Users/gym/Desktop/hospital-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/hospital-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/gym/Desktop/hospital-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/hospital-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtSW5saW5lOiB7CiAgICAgICAgdXNlck5hbWU6ICIiLAogICAgICAgIGRhdGU6ICIiCiAgICAgIH0sCiAgICAgIC8v5a6a5LmJ5p+l6K+i55qE6KGo5Y2V5YWD57SgCiAgICAgIGNvdHRvbXNMaXN0OiBbXSwKICAgICAgLy/nlLXlrZDnl4XljobliJfooajmlbDmja4KICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIC8v5b2T5YmN54K55Ye76aG156CB5pWwCiAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgLy/mr4/pobXlsZXnpLrmlbDnm64KICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdIC8vIOiiq+mAieS4reeahOWIl+ihqOaVsOaNrgoKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRDb3R0b21zTGlzdCgpOwogIH0sCiAgLy/ov5vlhaXpobXpnaLor7fmsYLnlLXlrZDnl4XkvovliJfooajmlbDmja4KICBtZXRob2RzOiB7CiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICBjb25zb2xlLmxvZygiXHU2QkNGXHU5ODc1ICIuY29uY2F0KHZhbCwgIiBcdTY3NjEiKSk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHZhbDsKICAgICAgdGhpcy5nZXRDb3R0b21zTGlzdCgpOwogICAgfSwKICAgIC8v54K55Ye75YiG6aG15pe25pS55Y+Y5b2T5YmN6aG156CB77yM6YeN5paw6K+35rGC5pWw5o2uCiAgICAvL+WcqOi/memHjHZhbOWwseaYr+WIhumhtee7hOS7tuS4reeUqOaIt+WIh+aNoueahOmhteeggeWAvO+8jOi1i+WAvOe7mWN1cnJlbnRQYWdl77yM5YaN5qyh6K+35rGC5pWw5o2u55qE5pe25YCZIOivt+axgueahOWwseaYr+eUqOaIt+WIh+aNoueahOmhteeggeWAvOeahOaVsOaNruS6hgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWw7CiAgICB9LAogICAgLy/kv53lrZjpgInkuK3nmoTliJfooajmlbDmja4KICAgIGdldENvdHRvbXNMaXN0OiBmdW5jdGlvbiBnZXRDb3R0b21zTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKCIxMTEiKTsKICAgICAgdGhpcy4kaHR0cCgiL21lZGljYWxyZWNvcmQvbGlzdCIsICJnZXQiLCB7CiAgICAgICAgcGFnZU5vOiB0aGlzLmN1cnJlbnRQYWdlLAogICAgICAgIHBhZ2VTaXplOiAxMAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5jb3R0b21zTGlzdCA9IHJlcy5yZXN1bHQubGlzdDsKICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5bnlLXlrZDnl4XljobliJfooagKICAgIGJhdGNoUmVtb3ZlOiBmdW5jdGlvbiBiYXRjaFJlbW92ZSgpIHsKICAgICAgdmFyIGlkbGlzdCA9IFtdOwogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZGxpc3QucHVzaChpdGVtLmlkKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKGlkbGlzdCk7CiAgICAgIHRoaXMuJGh0dHAoIi9tZWRpY2FscmVjb3JkL2JhdGNoRGVsZXRlIiwgImdldCIsIHsKICAgICAgICBpZHM6IGlkbGlzdC5qb2luKCIsIikKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0pOwogICAgfSAvL+aJuemHj+WIoOmZpOeUteWtkOeXheWOhgoKICB9LAogIGNvbXB1dGVkOiB7CiAgICB0YWJsZXM6IGZ1bmN0aW9uIHRhYmxlcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5jb3R0b21zTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS51c2VyaW5mby51c2VybmFtZS5pbmNsdWRlcyhfdGhpczIuZm9ybUlubGluZS51c2VyTmFtZSkgJiYgaXRlbS5zZWVrdGltZS5pbmNsdWRlcyhfdGhpczIuZm9ybUlubGluZS5kYXRlID09IG51bGwgPyAiIiA6IF90aGlzMi5mb3JtSW5saW5lLmRhdGUpOwogICAgICB9KTsKICAgIH0gLy8g5qC55o2u5p+l6K+i5p2h5Lu26L+H5ruk55eF5L6L5YiX6KGo5pWw5o2uCgogIH0KfTs="},{"version":3,"sources":["cottoms_list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA;AAFA,OADA;AAKA;AAEA,MAAA,WAAA,EAAA,EAPA;AAQA;AAEA,MAAA,WAAA,EAAA,CAVA;AAWA;AACA,MAAA,QAAA,EAAA,EAZA;AAaA;AAEA,MAAA,iBAAA,EAAA,EAfA,CAgBA;;AAhBA,KAAA;AAkBA,GApBA;AAqBA,EAAA,OArBA,qBAqBA;AACA,SAAA,cAAA;AACA,GAvBA;AAwBA;AAEA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,GADA,EACA;AACA,MAAA,OAAA,CAAA,GAAA,wBAAA,GAAA;AACA,KAHA;AAIA,IAAA,mBAJA,+BAIA,GAJA,EAIA;AACA,WAAA,WAAA,GAAA,GAAA;AACA,WAAA,cAAA;AACA,KAPA;AAOA;AACA;AAEA,IAAA,qBAVA,iCAUA,GAVA,EAUA;AACA,WAAA,iBAAA,GAAA,GAAA;AACA,KAZA;AAaA;AAEA,IAAA,cAfA,4BAeA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,WAAA,KAAA,CAAA,qBAAA,EAAA,KAAA,EAAA;AACA,QAAA,MAAA,EAAA,KAAA,WADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAAA,EAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,GAAA,CAAA,MAAA,CAAA,IAAA;AACA,OALA;AAMA,KAvBA;AAwBA;AAEA,IAAA,WA1BA,yBA0BA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,WAAA,iBAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,OAFA;AAGA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,WAAA,KAAA,CAAA,4BAAA,EAAA,KAAA,EAAA;AACA,QAAA,GAAA,EAAA,MAAA,CAAA,IAAA,CAAA,GAAA;AADA,OAAA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,QAAA,CAAA,MAAA;AACA,OAJA;AAKA,KArCA,CAsCA;;AAtCA,GA1BA;AAkEA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,aAAA,KAAA,WAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eACA,IAAA,CAAA,QAAA,CAAA,QAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,CAAA,QAAA,KACA,IAAA,CAAA,QAAA,CAAA,QAAA,CACA,MAAA,CAAA,UAAA,CAAA,IAAA,IAAA,IAAA,GAAA,EAAA,GAAA,MAAA,CAAA,UAAA,CAAA,IADA,CAFA;AAMA,OAPA,CAAA;AAQA,KAVA,CAWA;;AAXA;AAlEA,CAAA","sourcesContent":["<template>\n  <!-- 电子病例分页列表页 -->\n  <div id=\"cottomsList\">\n    <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\n      <el-form-item>\n        <el-input\n          v-model=\"formInline.userName\"\n          placeholder=\"请输入用户姓名\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-date-picker\n          v-model=\"formInline.date\"\n          type=\"date\"\n          :value=\"null ? '' : formInline.date\"\n          placeholder=\"选择就诊时间\"\n          value-format=\"yyyy-MM-dd\"\n        >\n        </el-date-picker>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button icon=\"el-icon-search\" circle></el-button>\n      </el-form-item>\n    </el-form>\n    <!-- 筛选列表内容 -->\n\n    <el-table\n      :data=\"cottomsList\"\n      style=\"width: 100%\"\n      @selection-change=\"handleSelectionChange\"\n      ref=\"multipleTable\"\n    >\n      <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\n      <el-table-column label=\"住院号\" width=\"150\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.recordCode }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"姓名\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.userinfo.username }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"性别\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.userinfo.gender == 1 ? \"男\" : \"女\" }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"age\" label=\"年龄\">\n        <template slot-scope=\"scope\">\n          <span>{{\n            new Date().getFullYear() - scope.row.userinfo.birthday.split(\"-\")[0]\n          }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"deName\" label=\"省\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.userinfo.address.split(\"-\")[0] }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"deName\" label=\"市\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.userinfo.address.split(\"-\")[1] }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"deName\" label=\"就诊科室\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.departmentinfo.departmentname }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"deName\" label=\"诊断类型\"> </el-table-column>\n      <el-table-column label=\"就诊时间\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.seektime.split(\" \")[0] }}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"done\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"primary\"\n            @click=\"\n              $router.push({\n                path: '/doctor/cottoms/detail',\n                query: { id: scope.row.id },\n              })\n            \"\n            >查看详情</el-button\n          >\n        </template>\n      </el-table-column>\n      <!-- 点击查看详情按钮时跳转到电子病历详情页 -->\n    </el-table>\n    <!-- 使用element-ui里的表格展示请求到的数据 -->\n\n    <div class=\"beatch_remove\">\n      <el-button round type=\"danger\" icon=\"el-icon-delete\" @click=\"batchRemove\"\n        >批量删除</el-button\n      >\n    </div>\n    <!-- 批量删除按钮 -->\n\n    <el-pagination\n      class=\"page\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page.sync=\"currentPage\"\n      background\n      :page-size=\"10\"\n      layout=\"prev, pager, next, jumper\"\n      :total=\"100\"\n    >\n    </el-pagination>\n    <!-- 分页效果 -->\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      formInline: {\n        userName: \"\",\n        date: \"\",\n      },\n      //定义查询的表单元素\n\n      cottomsList: [],\n      //电子病历列表数据\n\n      currentPage: 1,\n      //当前点击页码数\n      pageSize: 10,\n      //每页展示数目\n\n      multipleSelection: [],\n      // 被选中的列表数据\n    };\n  },\n  mounted() {\n    this.getCottomsList();\n  },\n  //进入页面请求电子病例列表数据\n\n  methods: {\n    handleSizeChange(val) {\n      console.log(`每页 ${val} 条`);\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getCottomsList();\n    }, //点击分页时改变当前页码，重新请求数据\n    //在这里val就是分页组件中用户切换的页码值，赋值给currentPage，再次请求数据的时候 请求的就是用户切换的页码值的数据了\n\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    //保存选中的列表数据\n\n    getCottomsList() {\n      console.log(\"111\");\n      this.$http(\"/medicalrecord/list\", \"get\", {\n        pageNo: this.currentPage,\n        pageSize: 10,\n      }).then((res) => {\n        this.cottomsList = res.result.list;\n      });\n    },\n    //获取电子病历列表\n\n    batchRemove() {\n      let idlist = [];\n      this.multipleSelection.forEach((item) => {\n        idlist.push(item.id);\n      });\n      console.log(idlist);\n      this.$http(\"/medicalrecord/batchDelete\", \"get\", {\n        ids: idlist.join(\",\"),\n      }).then((res) => {\n        location.reload();\n      });\n    },\n    //批量删除电子病历\n  },\n  computed: {\n    tables() {\n      return this.cottomsList.filter((item) => {\n        return (\n          item.userinfo.username.includes(this.formInline.userName) &&\n          item.seektime.includes(\n            this.formInline.date == null ? \"\" : this.formInline.date\n          )\n        );\n      });\n    },\n    // 根据查询条件过滤病例列表数据\n  },\n};\n</script>\n<style lang=\"scss\">\n#cottomsList {\n  position: relative;\n  .el-input__inner {\n    border-radius: 20px;\n  }\n  .page {\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: 20px;\n  }\n  .beatch_remove {\n    position: absolute;\n    bottom: 20px;\n    left: 50px;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/cottoms"}]}