{"remainingRequest":"/Users/gym/Desktop/frontend/node_modules/babel-loader/lib/index.js!/Users/gym/Desktop/frontend/src/http/index.js","dependencies":[{"path":"/Users/gym/Desktop/frontend/src/http/index.js","mtime":1598472694000},{"path":"/Users/gym/Desktop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmltcG9ydCBBeGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIiOwpjb25zb2xlLmxvZygiMjEzIiwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYpOyAvLyBwcm9jZXNzLmVuduWMheWQq+edgOWFs+S6juezu+e7n+eOr+Wig+eahOS/oeaBr++8jE5PREVfRU5W5piv5LiA5Liq55So5oi36Ieq5a6a5LmJ55qE5Y+Y6YeP77yM5Zyod2VicGFja+S4reWug+eahOeUqOmAlOaYr+WIpOaWreeUn+S6p+eOr+Wig+aIluW8gOWPkeeOr+Wig+OAggovLyAic2VydmUiOiAidnVlLWNsaS1zZXJ2aWNlIHNlcnZlIiwgLy/mnKzlnLDlvIDlj5Hov5DooYzvvIzkvJrmiopwcm9jZXNzLmVudi5OT0RFX0VOVuiuvue9ruS4uidkZXZlbG9wbWVudCcKLy8gImJ1aWxkIjogInZ1ZS1jbGktc2VydmljZSBidWlsZCIsIC8v6buY6K6k5omT5YyF5qih5byP77yM5Lya5oqKcHJvY2Vzcy5lbnYuTk9ERV9FTlborr7nva7kuLoncHJvZHVjdGlvbicKCnZhciBiYXNlVVJMOwoKaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAiZGV2ZWxvcG1lbnQiKSB7CiAgYmFzZVVSTCA9ICIvYXBpIjsgLy8gYmFzZVVSTCA9ICJodHRwOi8vMTkyLjE2OC4xMC4xMDMiOwp9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAicHJvZHVjdGlvbiIpIHsKICBiYXNlVVJMID0gImh0dHA6Ly8zOS4xMDAuMTQuMTQ3IjsKfSAvLyDlrprkuYnmjqXlj6PmoLnnm67lvZXvvIzljLrliIblvIDlj5Hnjq/looPlkoznlJ/kuqfnjq/looMKCgp2YXIgaW5zdGFuY2UgPSBBeGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IGJhc2VVUkwsCiAgdGltZW91dDogMjAwMDAKfSk7Cmluc3RhbmNlLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscyA9IHRydWU7IC8vIOiuvue9ruWPkemAgeivt+axguaXtuWAmeWktOS/oeaBr+aQuuW4pmNvb2tpZQovLyDmt7vliqDlk43lupTmi6bmiKrlmagKCmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgLy8g5a+55ZON5bqU5pWw5o2u5YGa54K55LuA5LmI77yM5aaC5p6c6L+U5Zue55qE5L+h5oGv5piv5peg5pWIdG9rZW7nmoTor53vvIzpgqPkuYjlsLHkvJrph43mlrDot7PovazliLDnmbvpmYbpobXpnaIKICBpZiAocmVzcG9uc2UuZGF0YS5tc2cgPT09ICLmnKrnmbvlvZUiKSB7CiAgICByb3V0ZXIucmVwbGFjZSh7CiAgICAgIG5hbWU6ICJsb2dpbiIKICAgIH0pOwogIH0KCiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyDlr7nlk43lupTplJnor6/lgZrngrnku4DkuYgKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsgLy8g5bCB6KOFYXhpb3Pmlrnms5XvvIzlrprkuYnkvKDpgJLnmoTlj4LmlbDmnInlnLDlnYDvvIxkYXRh77yM5pa55rOV5ZKMcGFyYW1zCgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBodHRwKHVybCwgbWV0aG9kKSB7CiAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9OwogIHJldHVybiBpbnN0YW5jZSh7CiAgICB1cmw6IHVybCwKICAgIGRhdGE6IGRhdGEsCiAgICBtZXRob2Q6IG1ldGhvZCwKICAgIHBhcmFtczogcGFyYW1zCiAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgIGlmIChyZXMuc3RhdHVzID49IDIwMCAmJiByZXMuc3RhdHVzIDwgMzAwKSB7CiAgICAgIHJldHVybiByZXMuZGF0YTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMuZGF0YS5tc2cpOwogICAgfQogIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnIpIHsKICAgIE1lc3NhZ2UuZXJyb3IoZXJyLm1lc3NhZ2UpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7CiAgfSk7Cn0="},{"version":3,"sources":["/Users/gym/Desktop/frontend/src/http/index.js"],"names":["Vue","Axios","Message","store","router","console","log","process","env","NODE_ENV","baseURL","instance","create","timeout","defaults","withCredentials","interceptors","response","use","data","msg","replace","name","error","Promise","reject","http","url","method","params","then","res","status","err","message"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEAC,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBC,OAAO,CAACC,GAAR,CAAYC,QAA/B,E,CAEA;AACA;AACA;;AACA,IAAIC,OAAJ;;AACA,IAAIH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4C;AACxCC,EAAAA,OAAO,GAAG,MAAV,CADwC,CAExC;AACH,CAHD,MAGO,IAAIH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AAC9CC,EAAAA,OAAO,GAAG,sBAAV;AACH,C,CACD;;;AACA,IAAMC,QAAQ,GAAGV,KAAK,CAACW,MAAN,CAAa;AAC1BF,EAAAA,OAAO,EAAPA,OAD0B;AAE1BG,EAAAA,OAAO,EAAE;AAFiB,CAAb,CAAjB;AAKAF,QAAQ,CAACG,QAAT,CAAkBC,eAAlB,GAAoC,IAApC,C,CACA;AAEA;;AACAJ,QAAQ,CAACK,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,CACI,UAASD,QAAT,EAAmB;AACf;AACA,MAAIA,QAAQ,CAACE,IAAT,CAAcC,GAAd,KAAsB,KAA1B,EAAiC;AAC7BhB,IAAAA,MAAM,CAACiB,OAAP,CAAe;AACXC,MAAAA,IAAI,EAAE;AADK,KAAf;AAGH;;AACD,SAAOL,QAAP;AACH,CATL,EAUI,UAASM,KAAT,EAAgB;AACZ;AACA,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAbL,E,CAeA;;AAEA,eAAe,SAASG,IAAT,CAAcC,GAAd,EAAmBC,MAAnB,EAAmD;AAAA,MAAxBC,MAAwB,uEAAf,EAAe;AAAA,MAAXV,IAAW,uEAAJ,EAAI;AAC9D,SAAOR,QAAQ,CAAC;AACRgB,IAAAA,GAAG,EAAHA,GADQ;AAERR,IAAAA,IAAI,EAAJA,IAFQ;AAGRS,IAAAA,MAAM,EAANA,MAHQ;AAIRC,IAAAA,MAAM,EAANA;AAJQ,GAAD,CAAR,CAMFC,IANE,CAMG,UAACC,GAAD,EAAS;AACX1B,IAAAA,OAAO,CAACC,GAAR,CAAYyB,GAAZ;;AACA,QAAIA,GAAG,CAACC,MAAJ,IAAc,GAAd,IAAqBD,GAAG,CAACC,MAAJ,GAAa,GAAtC,EAA2C;AACvC,aAAOD,GAAG,CAACZ,IAAX;AACH,KAFD,MAEO;AACH,aAAOK,OAAO,CAACC,MAAR,CAAeM,GAAG,CAACZ,IAAJ,CAASC,GAAxB,CAAP;AACH;AACJ,GAbE,WAcI,UAACa,GAAD,EAAS;AACZ/B,IAAAA,OAAO,CAACqB,KAAR,CAAcU,GAAG,CAACC,OAAlB;AACA,WAAOV,OAAO,CAACC,MAAR,CAAeQ,GAAf,CAAP;AACH,GAjBE,CAAP;AAkBH","sourcesContent":["import Vue from \"vue\";\nimport Axios from \"axios\";\nimport { Message } from \"element-ui\";\nimport store from \"../store\";\nimport router from \"../router\";\n\nconsole.log(\"213\", process.env.NODE_ENV);\n\n// process.env包含着关于系统环境的信息，NODE_ENV是一个用户自定义的变量，在webpack中它的用途是判断生产环境或开发环境。\n// \"serve\": \"vue-cli-service serve\", //本地开发运行，会把process.env.NODE_ENV设置为'development'\n// \"build\": \"vue-cli-service build\", //默认打包模式，会把process.env.NODE_ENV设置为'production'\nvar baseURL;\nif (process.env.NODE_ENV === \"development\") {\n    baseURL = \"/api\";\n    // baseURL = \"http://192.168.10.103\";\n} else if (process.env.NODE_ENV === \"production\") {\n    baseURL = \"http://39.100.14.147\";\n}\n// 定义接口根目录，区分开发环境和生产环境\nconst instance = Axios.create({\n    baseURL,\n    timeout: 20000,\n});\n\ninstance.defaults.withCredentials = true;\n// 设置发送请求时候头信息携带cookie\n\n// 添加响应拦截器\ninstance.interceptors.response.use(\n    function(response) {\n        // 对响应数据做点什么，如果返回的信息是无效token的话，那么就会重新跳转到登陆页面\n        if (response.data.msg === \"未登录\") {\n            router.replace({\n                name: \"login\",\n            });\n        }\n        return response;\n    },\n    function(error) {\n        // 对响应错误做点什么\n        return Promise.reject(error);\n    }\n);\n// 封装axios方法，定义传递的参数有地址，data，方法和params\n\nexport default function http(url, method, params = {}, data = {}) {\n    return instance({\n            url,\n            data,\n            method,\n            params,\n        })\n        .then((res) => {\n            console.log(res);\n            if (res.status >= 200 && res.status < 300) {\n                return res.data;\n            } else {\n                return Promise.reject(res.data.msg);\n            }\n        })\n        .catch((err) => {\n            Message.error(err.message);\n            return Promise.reject(err);\n        });\n}"]}]}