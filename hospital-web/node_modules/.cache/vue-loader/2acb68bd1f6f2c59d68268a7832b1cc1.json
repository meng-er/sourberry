{"remainingRequest":"/Users/gym/Desktop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gym/Desktop/frontend/src/views/report/detail_report.vue?vue&type=style&index=0&id=ab32aa3e&lang=scss&scoped=true&","dependencies":[{"path":"/Users/gym/Desktop/frontend/src/views/report/detail_report.vue","mtime":1598472694000},{"path":"/Users/gym/Desktop/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNkZXRhaWxfcmVwb3J0IHsKICAuZGV0YWlsIHsKICAgIGhlaWdodDogMTAwJTsKICB9CiAgLmhlYWRlciB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgcCB7CiAgICAgIGNvbG9yOiAjNzk3OTc5OwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgc3BhbiB7CiAgICAgICAgY29sb3I6ICMzMzM7CiAgICAgIH0KICAgIH0KICB9CiAgLm1haW4gewogICAgY29sb3I6ICMzMzM7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgID4gZGl2IHsKICAgICAgZmxleDogMTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgbWFyZ2luLWJvdHRvbTogMTNweDsKICAgICAgc3BhbiB7CiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIHdpZHRoOiAxMDBweDsKICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgfQogICAgICBwIHsKICAgICAgICBmbGV4OiAxOwogICAgICB9CiAgICAgIC5yZXZpc2VfY29uIHsKICAgICAgICBmbGV4OiAxOwogICAgICB9CiAgICB9CiAgfQogIC5mb290ZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIHAgewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["detail_report.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detail_report.vue","sourceRoot":"src/views/report","sourcesContent":["<template>\n  <div id=\"detail_report\">\n    <el-container\n      v-for=\"(item, index) in reportMessage\"\n      :key=\"index\"\n      class=\"detail\"\n    >\n      <el-header class=\"header\">\n        <p>\n          姓名：\n          <span>{{ item.conName }}</span>\n        </p>\n        <p>\n          性别：\n          <span>{{ item.gende == 1 ? \"男\" : \"女\" }}</span>\n        </p>\n        <p>\n          年龄：\n          <span>{{ item.age }}</span>\n        </p>\n        <p>\n          科别：\n          <span>{{ item.deName }}</span>\n        </p>\n        <p>\n          诊断类型：\n          <span>{{ item.diType == 1 ? \"初诊\" : \"复诊\" }}</span>\n        </p>\n        <p v-if=\"!revise\" style=\"color:red;\" @click=\"edit\">\n          <i class=\"el-icon-edit\"></i>\n          修改信息\n        </p>\n        <p v-else>\n          <el-button type=\"danger\" round size=\"mini\" @click=\"cancel\"\n            >取消</el-button\n          >\n          <el-button type=\"success\" round size=\"mini\" @click=\"save\"\n            >保存</el-button\n          >\n        </p>\n      </el-header>\n      <el-main class=\"main\">\n        <div>\n          <span> 临床诊断：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.symptom\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n            resize=\"none\"\n          >\n          </el-input>\n          <p v-else>{{ item.symptom }}</p>\n          <!-- 当点击修改时，展示input框，其他时候显示p标签 -->\n        </div>\n        <div>\n          <span> 大体检查：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.dtjc\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n          >\n          </el-input>\n          <p v-else>{{ item.dtjc }}</p>\n        </div>\n        <div>\n          <span> 病理诊断：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.blzd\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n          >\n          </el-input>\n          <p v-else>{{ item.blzd }}</p>\n        </div>\n        <div>\n          <span> 免疫/组化：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.mianyi\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n          >\n          </el-input>\n          <p v-else>{{ item.mianyi }}</p>\n        </div>\n        <div>\n          <span>结果：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.result\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n          >\n          </el-input>\n          <p v-else>{{ item.result }}</p>\n        </div>\n        <div>\n          <span> 备注：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.mark\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n          >\n          </el-input>\n          <p v-else>{{ item.mark }}</p>\n        </div>\n      </el-main>\n      <el-divider></el-divider>\n      <el-footer class=\"footer\">\n        <p>报告医师：{{ item.bgysName }}</p>\n        <p>审核医师：{{ item.shysName }}</p>\n        <p>报告时间：{{ item.seektime }}</p>\n        <p>\n          <el-button type=\"success\" class=\"bg16d\" @click=\"getReport\"\n            >查看附件</el-button\n          >\n        </p>\n      </el-footer>\n    </el-container>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      reportMessage: [],\n      // 保存报告详情\n      //   reportImg:\"\"\n      // 保存报告单图片\n      revise: false, //是否修改报告内容\\\n      copyReportMessage: \"\",\n      checkId: this.$route.query.id,\n    };\n  },\n\n  mounted() {\n    this.getReportMessage();\n  },\n\n  methods: {\n    getReportMessage() {\n      this.$http(\"/ds1/checkreport/getCheckDetailById\", \"post\", {\n        checkId: this.checkId,\n      }).then((res) => {\n        console.log(res);\n        this.reportMessage = res.result;\n      });\n    },\n    //获取报告详情数据\n\n    checkReport() {\n      this.$http(\"/ds1/checkreport/getAttachmentUrl\", \"post\", {\n        checkId: this.checkId,\n      }).then((res) => {\n        this.$alert(\"<img src=\" + res.result + \">\", {\n          dangerouslyUseHTMLString: true,\n          showConfirmButton: false,\n        });\n        // 拿到图片src并在弹窗中显示出来\n      });\n    },\n    //获取报告单图片数据\n\n    getReport() {\n      this.checkReport();\n    },\n    // 在点击查看附件的时候显示详情图片\n\n    edit() {\n      this.revise = true;\n      this.copyReportMessage = JSON.parse(JSON.stringify(this.reportMessage));\n    },\n    // 点击编辑按钮，让变量revise变为true，然后把report数据深拷贝一份保存下来\n\n    cancel() {\n      this.revise = false;\n      this.reportMessage = this.copyReportMessage;\n    },\n    //点击取消编辑按钮的时候，让reportmessag数据变为修改前的数据（在编辑时保存的copyReportMessage）\n\n    save() {\n      this.$http(\n        \"/ds1/checkreport/updateCheckById\",\n        \"post\",\n        Object.assign(this.reportMessage[0], { checkId: this.checkId })\n      ).then((res) => {\n        console.log(res);\n        this.revise = false;\n      });\n    },\n    // 点击保存按钮时把checkid和修改的内容通过接口传给后台进行保存\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n#detail_report {\n  .detail {\n    height: 100%;\n  }\n  .header {\n    display: flex;\n    justify-content: space-between;\n    p {\n      color: #797979;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      span {\n        color: #333;\n      }\n    }\n  }\n  .main {\n    color: #333;\n    display: flex;\n    flex-direction: column;\n    > div {\n      flex: 1;\n      display: flex;\n      margin-bottom: 13px;\n      span {\n        display: inline-block;\n        width: 100px;\n        text-align: right;\n      }\n      p {\n        flex: 1;\n      }\n      .revise_con {\n        flex: 1;\n      }\n    }\n  }\n  .footer {\n    display: flex;\n    justify-content: space-between;\n    p {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n}\n</style>\n<style lang=\"scss\">\n.el-message-box {\n  width: auto !important;\n}\n//   注意 修改element-ui弹窗的样式不能在添加了scoped的style中修改，解决方法：另写一个style添加样式\n</style>\n"]}]}