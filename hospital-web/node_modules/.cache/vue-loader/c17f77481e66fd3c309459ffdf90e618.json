{"remainingRequest":"/Users/gym/Desktop/hospital-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gym/Desktop/hospital-web/src/views/mypatient/patient_list.vue?vue&type=style&index=0&id=03376ba8&lang=scss&scoped=true&","dependencies":[{"path":"/Users/gym/Desktop/hospital-web/src/views/mypatient/patient_list.vue","mtime":1654309515498},{"path":"/Users/gym/Desktop/hospital-web/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/hospital-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/gym/Desktop/hospital-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/gym/Desktop/hospital-web/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/hospital-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/hospital-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI3BhdGllbnRMaXN0IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgLnBhdGllbnRfY29uIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGxlZnQ7CiAgfQogIC5lbC1pbnB1dF9faW5uZXIgewogICAgYm9yZGVyLXJhZGl1czogMjBweDsKICB9CgogIC5wYWdlIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGxlZnQ6IDUwJTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKICAgIGJvdHRvbTogMjBweDsKICB9CiAgLmJlYXRjaF9yZW1vdmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgYm90dG9tOiAyMHB4OwogICAgbGVmdDogNTBweDsKICAgIC5lbC1idXR0b24uaXMtcm91bmQgewogICAgICBjb2xvcjogI2ZmZjsKICAgICAgcGFkZGluZzogOHB4IDEycHg7CiAgICB9CiAgfQogIC5zZWxlY3QgewogICAgLy8gYm9yZGVyOiAxcHggc29saWQgcmdiKDIxMSwgMTQzLCAxNDMpOwogICAgYmFja2dyb3VuZDogcmdiYSgkY29sb3I6ICM5MThiOGIsICRhbHBoYTogMC4zKTsKICAgIC8vIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgfQp9Cg=="},{"version":3,"sources":["patient_list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"patient_list.vue","sourceRoot":"src/views/mypatient","sourcesContent":["<template>\n  <div id=\"patientList\">\n    <div class=\"patient_con\">\n      <patient-item\n        v-for=\"(item, index) in patientList\"\n        :key=\"index\"\n        :info=\"item\"\n        @click.native=\"toggleItem(item, item.id)\"\n        :class=\"{ select: item.select }\"\n      ></patient-item>\n      <!-- 每个病人都是一个组件 -->\n    </div>\n    <div class=\"beatch_remove\">\n      <el-button class=\"bg16d\" round icon=\"el-icon-delete\">批量选择不不不</el-button>\n      <el-button round type=\"danger\" icon=\"el-icon-delete\" @click=\"delList\"\n        >批量删除</el-button\n      >\n    </div>\n\n    <el-pagination\n      class=\"page\"\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page.sync=\"currentPage\"\n      background\n      :page-size=\"10\"\n      layout=\"prev, pager, next, jumper\"\n      :total=\"100\"\n      :pager-count=\"5\"\n    >\n    </el-pagination>\n    <!-- 分页效果 -->\n  </div>\n</template>\n<script>\nimport patientItem from \"../../components/patient_item.vue\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      currentPage: 1,\n      //当前点击页码数\n      pageSize: 16,\n      //每页展示数目\n      patientList: [],\n      //病人列表数据\n    };\n  },\n  components: {\n    patientItem,\n  }, //注册病人列表条目子组件\n  mounted() {\n    this.getPatientList();\n    //进入页面时候获取病人列表\n  },\n  methods: {\n    handleSizeChange(val) {\n      console.log(`每页 ${val} 条`);\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n    }, //点击分页时改变当前页码，重新请求数据\n\n    toggleItem(item) {\n      // if (item.select == false) {\n      //   item.select = true;\n      // } else {\n      //   item.select = false;\n      // }\n      item.select = !item.select;\n    },\n    //点击病人列表条目时，切换选中和未选中select字段的状态\n\n    getPatientList() {\n      // this.$http(\n      //   \"/consultationinfo/patientList\",\n      //   \"post\",\n      //\n      //   {\n      //     pageNo: 1,\n      //     pageSize: 10,\n      //   }\n      // ).then((res) => {\n      //   this.patientList = res.result.list;\n      //   //请求到的病人列表数据赋值给data数据patientList\n      //   console.log(this.patientList);\n      //   this.patientList.forEach((item) => {\n      //     this.$set(item, \"select\", false);\n      //   });\n      //   //为每条数据增加一个key值select代表是否选中，为后期的批量删除作准备\n      // });\n    },\n    delList() {\n      let ids = [];\n      this.patientList.forEach((item) => {\n        if (item.select == true) {\n          ids.push(item.id);\n        }\n      });\n      // 把所有select字段为true的信息的id都传进数组中\n      if (ids.length !== 0)\n        this.$http(\"consultationinfo/patients\", \"delete\", {\n          consultationIds: ids.join(\",\"),\n          //传递给后台数据，把数组拼接为字符串1，2，的格式\n        }).then((res) => {\n          if (res.msg == \"ok\") {\n            this.$message({\n              showClose: true,\n              message: \"删除病人成功\",\n              type: \"success\",\n            });\n            location.reload();\n          } //删除成功后弹出成功弹窗，并且刷新页面\n        });\n    },\n    //批量删除\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n#patientList {\n  position: relative;\n  .patient_con {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: left;\n  }\n  .el-input__inner {\n    border-radius: 20px;\n  }\n\n  .page {\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    bottom: 20px;\n  }\n  .beatch_remove {\n    position: absolute;\n    bottom: 20px;\n    left: 50px;\n    .el-button.is-round {\n      color: #fff;\n      padding: 8px 12px;\n    }\n  }\n  .select {\n    // border: 1px solid rgb(211, 143, 143);\n    background: rgba($color: #918b8b, $alpha: 0.3);\n    // box-sizing: border-box;\n  }\n}\n</style>\n<style lang=\"scss\"></style>\n"]}]}