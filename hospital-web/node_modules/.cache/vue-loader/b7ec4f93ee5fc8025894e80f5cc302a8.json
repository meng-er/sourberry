{"remainingRequest":"/Users/gym/Desktop/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/gym/Desktop/frontend/src/views/report/detail_report.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/gym/Desktop/frontend/src/views/report/detail_report.vue","mtime":1598472694000},{"path":"/Users/gym/Desktop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gym/Desktop/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVwb3J0TWVzc2FnZTogW10sCiAgICAgIC8vIOS/neWtmOaKpeWRiuivpuaDhQogICAgICAvLyAgIHJlcG9ydEltZzoiIgogICAgICAvLyDkv53lrZjmiqXlkYrljZXlm77niYcKICAgICAgcmV2aXNlOiBmYWxzZSwgLy/mmK/lkKbkv67mlLnmiqXlkYrlhoXlrrlcCiAgICAgIGNvcHlSZXBvcnRNZXNzYWdlOiAiIiwKICAgICAgY2hlY2tJZDogdGhpcy4kcm91dGUucXVlcnkuaWQsCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFJlcG9ydE1lc3NhZ2UoKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBnZXRSZXBvcnRNZXNzYWdlKCkgewogICAgICB0aGlzLiRodHRwKCIvZHMxL2NoZWNrcmVwb3J0L2dldENoZWNrRGV0YWlsQnlJZCIsICJwb3N0IiwgewogICAgICAgIGNoZWNrSWQ6IHRoaXMuY2hlY2tJZCwKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB0aGlzLnJlcG9ydE1lc3NhZ2UgPSByZXMucmVzdWx0OwogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPluaKpeWRiuivpuaDheaVsOaNrgoKICAgIGNoZWNrUmVwb3J0KCkgewogICAgICB0aGlzLiRodHRwKCIvZHMxL2NoZWNrcmVwb3J0L2dldEF0dGFjaG1lbnRVcmwiLCAicG9zdCIsIHsKICAgICAgICBjaGVja0lkOiB0aGlzLmNoZWNrSWQsCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMuJGFsZXJ0KCI8aW1nIHNyYz0iICsgcmVzLnJlc3VsdCArICI+IiwgewogICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IGZhbHNlLAogICAgICAgIH0pOwogICAgICAgIC8vIOaLv+WIsOWbvueJh3NyY+W5tuWcqOW8ueeql+S4reaYvuekuuWHuuadpQogICAgICB9KTsKICAgIH0sCiAgICAvL+iOt+WPluaKpeWRiuWNleWbvueJh+aVsOaNrgoKICAgIGdldFJlcG9ydCgpIHsKICAgICAgdGhpcy5jaGVja1JlcG9ydCgpOwogICAgfSwKICAgIC8vIOWcqOeCueWHu+afpeeci+mZhOS7tueahOaXtuWAmeaYvuekuuivpuaDheWbvueJhwoKICAgIGVkaXQoKSB7CiAgICAgIHRoaXMucmV2aXNlID0gdHJ1ZTsKICAgICAgdGhpcy5jb3B5UmVwb3J0TWVzc2FnZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5yZXBvcnRNZXNzYWdlKSk7CiAgICB9LAogICAgLy8g54K55Ye757yW6L6R5oyJ6ZKu77yM6K6p5Y+Y6YePcmV2aXNl5Y+Y5Li6dHJ1Ze+8jOeEtuWQjuaKinJlcG9ydOaVsOaNrua3seaLt+i0neS4gOS7veS/neWtmOS4i+adpQoKICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy5yZXZpc2UgPSBmYWxzZTsKICAgICAgdGhpcy5yZXBvcnRNZXNzYWdlID0gdGhpcy5jb3B5UmVwb3J0TWVzc2FnZTsKICAgIH0sCiAgICAvL+eCueWHu+WPlua2iOe8lui+keaMiemSrueahOaXtuWAme+8jOiuqXJlcG9ydG1lc3NhZ+aVsOaNruWPmOS4uuS/ruaUueWJjeeahOaVsOaNru+8iOWcqOe8lui+keaXtuS/neWtmOeahGNvcHlSZXBvcnRNZXNzYWdl77yJCgogICAgc2F2ZSgpIHsKICAgICAgdGhpcy4kaHR0cCgKICAgICAgICAiL2RzMS9jaGVja3JlcG9ydC91cGRhdGVDaGVja0J5SWQiLAogICAgICAgICJwb3N0IiwKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMucmVwb3J0TWVzc2FnZVswXSwgeyBjaGVja0lkOiB0aGlzLmNoZWNrSWQgfSkKICAgICAgKS50aGVuKChyZXMpID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMucmV2aXNlID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOeCueWHu+S/neWtmOaMiemSruaXtuaKimNoZWNraWTlkozkv67mlLnnmoTlhoXlrrnpgJrov4fmjqXlj6PkvKDnu5nlkI7lj7Dov5vooYzkv53lrZgKICB9LAp9Owo="},{"version":3,"sources":["detail_report.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detail_report.vue","sourceRoot":"src/views/report","sourcesContent":["<template>\n  <div id=\"detail_report\">\n    <el-container\n      v-for=\"(item, index) in reportMessage\"\n      :key=\"index\"\n      class=\"detail\"\n    >\n      <el-header class=\"header\">\n        <p>\n          姓名：\n          <span>{{ item.conName }}</span>\n        </p>\n        <p>\n          性别：\n          <span>{{ item.gende == 1 ? \"男\" : \"女\" }}</span>\n        </p>\n        <p>\n          年龄：\n          <span>{{ item.age }}</span>\n        </p>\n        <p>\n          科别：\n          <span>{{ item.deName }}</span>\n        </p>\n        <p>\n          诊断类型：\n          <span>{{ item.diType == 1 ? \"初诊\" : \"复诊\" }}</span>\n        </p>\n        <p v-if=\"!revise\" style=\"color:red;\" @click=\"edit\">\n          <i class=\"el-icon-edit\"></i>\n          修改信息\n        </p>\n        <p v-else>\n          <el-button type=\"danger\" round size=\"mini\" @click=\"cancel\"\n            >取消</el-button\n          >\n          <el-button type=\"success\" round size=\"mini\" @click=\"save\"\n            >保存</el-button\n          >\n        </p>\n      </el-header>\n      <el-main class=\"main\">\n        <div>\n          <span> 临床诊断：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.symptom\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n            resize=\"none\"\n          >\n          </el-input>\n          <p v-else>{{ item.symptom }}</p>\n          <!-- 当点击修改时，展示input框，其他时候显示p标签 -->\n        </div>\n        <div>\n          <span> 大体检查：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.dtjc\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n          >\n          </el-input>\n          <p v-else>{{ item.dtjc }}</p>\n        </div>\n        <div>\n          <span> 病理诊断：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.blzd\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n          >\n          </el-input>\n          <p v-else>{{ item.blzd }}</p>\n        </div>\n        <div>\n          <span> 免疫/组化：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.mianyi\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n          >\n          </el-input>\n          <p v-else>{{ item.mianyi }}</p>\n        </div>\n        <div>\n          <span>结果：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.result\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n          >\n          </el-input>\n          <p v-else>{{ item.result }}</p>\n        </div>\n        <div>\n          <span> 备注：</span>\n          <el-input\n            type=\"textarea\"\n            :rows=\"2\"\n            placeholder=\"请输入内容\"\n            v-model=\"item.mark\"\n            class=\"revise_con\"\n            v-if=\"revise\"\n          >\n          </el-input>\n          <p v-else>{{ item.mark }}</p>\n        </div>\n      </el-main>\n      <el-divider></el-divider>\n      <el-footer class=\"footer\">\n        <p>报告医师：{{ item.bgysName }}</p>\n        <p>审核医师：{{ item.shysName }}</p>\n        <p>报告时间：{{ item.seektime }}</p>\n        <p>\n          <el-button type=\"success\" class=\"bg16d\" @click=\"getReport\"\n            >查看附件</el-button\n          >\n        </p>\n      </el-footer>\n    </el-container>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      reportMessage: [],\n      // 保存报告详情\n      //   reportImg:\"\"\n      // 保存报告单图片\n      revise: false, //是否修改报告内容\\\n      copyReportMessage: \"\",\n      checkId: this.$route.query.id,\n    };\n  },\n\n  mounted() {\n    this.getReportMessage();\n  },\n\n  methods: {\n    getReportMessage() {\n      this.$http(\"/ds1/checkreport/getCheckDetailById\", \"post\", {\n        checkId: this.checkId,\n      }).then((res) => {\n        console.log(res);\n        this.reportMessage = res.result;\n      });\n    },\n    //获取报告详情数据\n\n    checkReport() {\n      this.$http(\"/ds1/checkreport/getAttachmentUrl\", \"post\", {\n        checkId: this.checkId,\n      }).then((res) => {\n        this.$alert(\"<img src=\" + res.result + \">\", {\n          dangerouslyUseHTMLString: true,\n          showConfirmButton: false,\n        });\n        // 拿到图片src并在弹窗中显示出来\n      });\n    },\n    //获取报告单图片数据\n\n    getReport() {\n      this.checkReport();\n    },\n    // 在点击查看附件的时候显示详情图片\n\n    edit() {\n      this.revise = true;\n      this.copyReportMessage = JSON.parse(JSON.stringify(this.reportMessage));\n    },\n    // 点击编辑按钮，让变量revise变为true，然后把report数据深拷贝一份保存下来\n\n    cancel() {\n      this.revise = false;\n      this.reportMessage = this.copyReportMessage;\n    },\n    //点击取消编辑按钮的时候，让reportmessag数据变为修改前的数据（在编辑时保存的copyReportMessage）\n\n    save() {\n      this.$http(\n        \"/ds1/checkreport/updateCheckById\",\n        \"post\",\n        Object.assign(this.reportMessage[0], { checkId: this.checkId })\n      ).then((res) => {\n        console.log(res);\n        this.revise = false;\n      });\n    },\n    // 点击保存按钮时把checkid和修改的内容通过接口传给后台进行保存\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n#detail_report {\n  .detail {\n    height: 100%;\n  }\n  .header {\n    display: flex;\n    justify-content: space-between;\n    p {\n      color: #797979;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      span {\n        color: #333;\n      }\n    }\n  }\n  .main {\n    color: #333;\n    display: flex;\n    flex-direction: column;\n    > div {\n      flex: 1;\n      display: flex;\n      margin-bottom: 13px;\n      span {\n        display: inline-block;\n        width: 100px;\n        text-align: right;\n      }\n      p {\n        flex: 1;\n      }\n      .revise_con {\n        flex: 1;\n      }\n    }\n  }\n  .footer {\n    display: flex;\n    justify-content: space-between;\n    p {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n}\n</style>\n<style lang=\"scss\">\n.el-message-box {\n  width: auto !important;\n}\n//   注意 修改element-ui弹窗的样式不能在添加了scoped的style中修改，解决方法：另写一个style添加样式\n</style>\n"]}]}